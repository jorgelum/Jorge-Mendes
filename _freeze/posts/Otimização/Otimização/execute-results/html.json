{
  "hash": "d86f09ce8da5235e508dfdce9c6ad8db",
  "result": {
    "markdown": "---\ntitle: \"Otimização\"\nauthor: \"Jorge Luiz Mendes\"\ndate: \"2023-03-02\"\ndescription: \"Otimização utilizando a linguagem R\"\ncategories: [lpsolve]\nimage: \"image0.png\"\n---\n\n\n## Introdução\n\nNa engenharia obtemos várias soluções para um determinado problemas. O desafio é encontrar uma solução ótima considerando todas as restrições. Tudo depende do objetivo almejado, seja maximizando o lucro ou minimizando o custo de uma operação por exemplo.\n\n![](image0.png){width=\"370\"}\n\nfonte: https://atemporaledesign.com.br\n\nO lpSolve é um software gratuito para resolução de programação linear, Linear/inteira e entre outras que possui funções disponibilizadas para linguagem R.\n\n::: {.callout-tip collapse=\"true\"}\n## Programação \n\nNa área de otimização Programação se relaciona com o tipo de problema a ser resolvido. Ela é do tipo linear quando a função a ser otimizada e suas restrições são lineares. Já a Linear inteira é quando algumas ou todas as variáveis são inteiras.\n\nExistem também problemas de designação que lida com transporte.\n:::\n\n[Documentação](https://cran.r-project.org/web/packages/lpSolve/lpSolve.pdf)\n\n## Problema\n\nExemplo 15.1 do **Chapra**[^1].\n\n[^1]: CHAPRA, Steven C. **Métodos numéricos para engenharia.** 7. Porto Alegre AMGH 2016 1 recurso online ISBN 9788580555691.\n\n![](ex.PNG){fig-align=\"center\"}\n\nVariáveis:\n\n$$\nx_1 \\Rightarrow Regular \\\\\nx_2 \\Rightarrow Premium\n$$\n\nFunção objetivo:\n\n$$\nMaximize\\, Z= 150  x_1 +\\, 175x_2\n$$\n\nRestrições:\n\n$$\n 7x_1\\,+11x_2\\, \\leq 77\\,\\,\\,\\,(restrição\\,\\,de\\,\\,material)\n$$\n\n$$ \n10x_1 \\,+8x_2\\,\\leq 80\\,\\,\\,\\,\\,(restrição\\,\\,de\\,\\,tempo) \n$$\n\n$$\nx_1 \\,\\leq 9\\,\\,\\,\\,\\,(restrição\\,\\,de\\,\\,armazenamento\\,\\,do\\,\\,tipo\\,\\,\"\nregular\")\n$$\n\n$$\nx_2 \\,\\leq 6\\,\\,\\,\\,\\,(restrição\\,\\,de\\,\\,armazenamento\\,\\,do\\,\\,tipo\\,\\,\"premium\")\n$$\n\n$$\nx_1,x_2\\, \\geq 0\\,\\,\\,\\,\\,(restrição\\,\\,de\\,\\,sinal)\n$$\n\n## Bibliotecas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lpSolve)\n```\n:::\n\n\n## Formulação do problema\n\nPara resolução do problema será utilizado a estrura de matrizes com os coeficientes das equações.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nf.obj <- c(150,175) # Coeficientes da função objetiva\n\nf.con <- matrix(\n  c(7,11,\n    10,8,\n    1,0,\n    0,1,\n    1,0,\n    0,1),\n  nrow=6, byrow=TRUE) # Coeficientes das equações de restrições\n\nf.dir <- c(\"<=\",\"<=\",\"<=\",\"<=\",\">=\",\">=\") #Direção das equações de restrições\nf.rhs <- c(77,80,9,6,0,0) # Valores das restrições\n\nmodelo <- lp(\"max\", f.obj, f.con, f.dir, f.rhs) \n```\n:::\n\n\nDetalhes do problema:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npaste(\"Funão objetiva =\", modelo$objective[1],\"x1 +\",modelo$objective[2],\"x2\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Funão objetiva = 150 x1 + 175 x2\"\n```\n:::\n:::\n\n\nPodemos verificar o status do modelo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (modelo$status == 0) {\n  paste(\"Foi encontrada uma solução viável\")\n}else{\n  paste(\"Não foi encontrada uma solução viável\") \n}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Foi encontrada uma solução viável\"\n```\n:::\n:::\n\n\nA resposta é um valor numérico sendo 0 indica que foi encontrada uma solução viável e 2 indica que não foi encontrada uma solução viável.\n\nVerificar o objetivo da otimização:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (modelo$direction == 1) {\n  paste(\"maximizar a função\")\n}else{\n  paste(\"minimizar a função\")\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"maximizar a função\"\n```\n:::\n:::\n\n\nO valor da função maximizada:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npaste(\"O lucro máximo é \",round(modelo$objval,2),\"/semana\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"O lucro máximo é  1413.89 /semana\"\n```\n:::\n:::\n\n\nA solução otimizada:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npaste(\"Gás Regular:\",round(modelo$solution[1],2),\"ton/semana\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Gás Regular: 4.89 ton/semana\"\n```\n:::\n\n```{.r .cell-code}\npaste(\"Gás Premium:\",round(modelo$solution[2],2),\"ton/semana\") \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Gás Premium: 3.89 ton/semana\"\n```\n:::\n:::\n\n\n## Ver também\n\n-   [Supply Chain Data Analytics](https://www.supplychaindataanalytics.com/pt/programacao-linear-simples-com-variaveis-%E2%80%8B%E2%80%8Binteiras-em-r-usando-lpsolve/)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}